<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>MH Wilds 라보 격화 계산기</title>
<style>
  body { font-family: Arial, sans-serif; max-width: 720px; margin: auto; }
  h1 { font-size: 22px; }
  label { display: block; margin-top: 10px; }
  input, select { width: 100%; padding: 6px; margin-top: 4px; }
  .result { margin-top: 20px; padding: 10px; background: #f4f4f4; }
</style>
</head>

<body>
<h1>몬스터 헌터 와일즈<br>라이트보우건 격화 계산기</h1>

<label>기초 공격력
<input id="atk" type="number" value="280"></label>

<label>상시 회심 (예: 0.35)
<input id="baseCrit" type="number" step="0.01" value="0.35"></label>

<label>조건부 업타임 (0~1)
<input id="uptime" type="number" step="0.01" value="0.7"></label>

<label>슈퍼회심 레벨
<select id="critBoost">
  <option value="0.25">Lv0 (1.25)</option>
  <option value="0.28">Lv1 (1.28)</option>
  <option value="0.31">Lv2 (1.31)</option>
  <option value="0.34" selected>Lv3 (1.34)</option>
  <option value="0.37">Lv4 (1.37)</option>
  <option value="0.40">Lv5 (1.40)</option>
</select></label>

<label>주 사용 탄종
<select id="ammo">
  <option value="normal">통상탄</option>
  <option value="pierce">관통탄</option>
  <option value="element">속성탄</option>
  <option value="dragon">멸룡탄</option>
</select></label>

<button onclick="calc()">계산하기</button>

<div class="result" id="output"></div>

<script>
function calc() {
  const x = parseFloat(atk.value);
  const r = parseFloat(baseCrit.value);
  const u = parseFloat(uptime.value);
  const b = parseFloat(critBoost.value);
  const ammo = document.getElementById("ammo").value;

  const atkFrenzy = (x + 10) * (1 + (r - 0.15 * u) * b);
  const critFrenzy = (x - 10) * (1 + (r + 0.10 * u) * b);
  const elemFrenzy = x * (1 + (r - 0.05 * u) * b);

  let theory;
  if (ammo === "normal") theory = "공격 격화";
  else if (ammo === "pierce") theory = "속성 격화 (관통 속사)";
  else if (ammo === "element") theory = "속성 격화";
  else theory = "공격 격화";

  const best = Math.max(atkFrenzy, critFrenzy, elemFrenzy);
  let winner = best === atkFrenzy ? "공격 격화"
             : best === critFrenzy ? "회심 격화"
             : "속성 격화";

  output.innerHTML = `
  <b>격화 비교 스코어</b><br>
  공격 격화: ${atkFrenzy.toFixed(1)}<br>
  회심 격화: ${critFrenzy.toFixed(1)}<br>
  속성 격화: ${elemFrenzy.toFixed(1)}<br><br>

  <b>수치 기준 추천:</b> ${winner}<br>
  <b>탄종 기준 이론 최고점:</b> ${theory}
  `;
}
</script>
</body>
</html>
